.polaroid{ position:relative; background:#f5f5f5; border-radius:4px; padding:12px 12px 52px; width:500px; box-shadow:0 10px 22px rgba(0,0,0,.2), 0 0 0 1px #d8d8d8 inset, 0 0 0 1.5px #fff; border:1px solid #eaeaea; overflow:hidden }
.polaroid-photo{ position:relative; aspect-ratio:1.8/1; overflow:hidden; border-radius:6px; background:#e9e9e9 }
.polaroid-photo img{ display:block; width:100%; height:100%; object-fit:contain }
.polaroid-export{ overflow:visible }
.polaroid .meta{ position:absolute; left:0; right:0; bottom:10px; padding:0 12px; display:flex; align-items:flex-end; justify-content:space-between; gap:8px; font-family:monospace; font-weight:1000}
.polaroid .caption{ font-size:18px; color:#222; white-space:nowrap; overflow:hidden; text-overflow:ellipsis }
.polaroid .date{ font-size:12px; color:#5f5f5f }

/* Paper texture & edge grain */
.polaroid::after{ content:""; position:absolute; inset:0; background-image:url('/textures/paper.png'); opacity:.45; mix-blend-mode:multiply; pointer-events:none; border-radius:12px }
.polaroid::before{ content:""; position:absolute; inset:0; border-radius:12px; box-shadow:0 0 0 1px rgba(0,0,0,.06) inset, 0 1px 0 rgba(255,255,255,.7) inset }

/* Camera shell layout */
.camWrap{position:relative; width:min(820px,92vw); margin:0 auto 16px}
.camShell{width:100%; height:auto; position:relative; z-index:2; display:block}
.camScreen{ --screen-left:5%; --screen-top:28.5%; --screen-w:80%;
  position:absolute; left:var(--screen-left); top:var(--screen-top);
  width:var(--screen-w); aspect-ratio: 644 / 358; border-radius:18px; overflow:hidden; background:#d9d9d9; box-shadow:inset 0 3px 6px rgba(0,0,0,.25); z-index:1}
.camScreen > *{ position:absolute; inset:0 }
.camFilmSlot{position:absolute; left:50%; transform:translateX(-50%); bottom:3.2%; width:40%; height:7px; background:#1a1a1a; border-radius:4px; box-shadow: inset 0 2px 2px rgba(255,255,255,.06)}

/* controls row */
.controlsRow{ position:relative; z-index:10; display:flex; flex-direction:column; gap:12px; align-items:center; justify-content:center; margin:18px auto 24px; }
.pill{ padding:8px 12px; border-radius:999px; background:#f2f2f2; border:2px solid var(--stroke); box-shadow: 2px 2px 0 var(--stroke); font-weight:600 }
.textInput{ padding:10px 12px; border:4px solid #000; border-radius:10px; min-width:220px; box-shadow:0 0 0 4px #3b82f677 }
.select{ padding:10px 12px; border:4px solid #000; border-radius:10px; background:white }
.captureBtn{ composes: bigBtn; }

/* Pile container */
.pileContainer{ position:relative; width:min(980px,92vw); height:min(70vh,680px); margin:40px auto; }
.pileList{ display:flex; flex-direction:column; gap:16px; width:min(520px,92vw); margin:24px auto }

@media (max-width: 767px){
  .pileContainer{ height:auto; }
}

/* smoother dragging without layout jank */
.polaroid-drag-container { position:relative; width:100%; height:100%; overflow:visible; touch-action:none }
.polaroid-card { position:absolute; user-select:none; -webkit-user-drag:none; backface-visibility:hidden; transform-style:preserve-3d; contain:layout; cursor:grab }
.polaroid-card:active { cursor:grabbing }
.polaroid-card-inner { will-change:transform }

/* Centered, responsive area for the pile */
.tray-stage{ position:relative; width:clamp(320px,92vw,1100px); height:clamp(320px,70vh,700px); margin-inline:auto }
/* Optional: make each polaroid scale with viewport */
.polaroid-frame{ width:clamp(220px,28vw,360px) }
.polaroid-frame img{ width:100%; height:auto; display:block }

/* Brutalist input styles moved to styles/brutalist-input.css */

/* Ensure the card can position the icon */
.polaroid-card{ position:relative }
/* Place a small icon in the top-right corner of the card */
.polaroid-dl{ position:absolute; top:8px; right:8px; width:32px; height:32px; border-radius:999px; display:grid; place-items:center; background:#fff; color:#111; border:2px solid #111; box-shadow:3px 3px 0 #4a90e2; cursor:pointer; opacity:0; pointer-events:none; transition:opacity .15s ease }
.polaroid-card:hover .polaroid-dl, .polaroid-card:focus-within .polaroid-dl{ opacity:1; pointer-events:auto }
.polaroid-dl:disabled{ opacity:.6; cursor:default }
.polaroid-export img{ user-select:none; pointer-events:none }

